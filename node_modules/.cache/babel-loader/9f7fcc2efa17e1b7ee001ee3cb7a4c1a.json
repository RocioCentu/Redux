{"ast":null,"code":"//accion que se va a utilizar en los componentes\nimport { AGREGAR_PRODUCTO, AGREGAR_PRODUCTO_EXITO, AGREGAR_PRODUCTO_ERROR, COMENZAR_DESCARGA_PRODUCTOS, DESCARGA_PRODUCTOS_EXITO, DESCARGA_PRODUCTOS_ERROR, OBTENER_PRODUCTO_ELIMINAR, PRODUCTO_ELIMINADO_EXITO, PRODUCTO_ELIMINADO_ERROR, OBTENER_PRODUCTO_EDITAR, COMENZAR_EDICION_PRODUCTO, PRODUCTO_EDITADO_EXITO, PRODUCTO_EDITADO_ERROR } from '../types';\nimport clienteAxios from '../config/axios';\nimport Swal from 'sweetalert2';\nimport EditarProducto from '../components/EditarProducto'; // Crear nuevos productos\n\nexport function crearNuevoProductoAction(producto) {\n  return async dispatch => {\n    dispatch(agregarProducto());\n\n    try {\n      // insertar en la API\n      await clienteAxios.post('/productos', producto); // Si todo sale bien, actualizar el state\n\n      dispatch(agregarProductoExito(producto)); // Alerta\n\n      Swal.fire('Correcto', 'El producto se agregó correctamente', 'success');\n    } catch (error) {\n      console.log(error); // si hay un error cambiar el state\n\n      dispatch(agregarProductoError(true)); // alerta de error\n\n      Swal.fire({\n        icon: 'error',\n        title: 'Hubo un error',\n        text: 'Hubo un error, intenta de nuevo'\n      });\n    }\n  };\n}\n\nconst agregarProducto = () => ({\n  type: AGREGAR_PRODUCTO,\n  payload: true\n}); // si el producto se guarda en la base de datos\n\n\nconst agregarProductoExito = producto => ({\n  type: AGREGAR_PRODUCTO_EXITO,\n  payload: producto\n}); // si hubo un error\n\n\nconst agregarProductoError = estado => ({\n  type: AGREGAR_PRODUCTO_ERROR,\n  payload: estado\n}); // Función que descarga los productos de la base de datos\n\n\nexport function obtenerProductosAction() {\n  return async dispatch => {\n    dispatch(descargarProductos());\n\n    try {\n      const respuesta = await clienteAxios.get('/productos');\n      dispatch(descargaProductosExitosa(respuesta.data.sort(function (a, b) {\n        var nameA = a.name.toUpperCase(); // ignore upper and lowercase\n\n        var nameB = b.name.toUpperCase(); // ignore upper and lowercase\n\n        if (nameA < nameB) {\n          return -1;\n        }\n\n        if (nameA > nameB) {\n          return 1;\n        } // names must be equal\n\n\n        return 0;\n      })));\n    } catch (error) {\n      console.log(error);\n      dispatch(descargaProductosError());\n    }\n  };\n}\n\nconst descargarProductos = () => ({\n  type: COMENZAR_DESCARGA_PRODUCTOS,\n  payload: true\n});\n\nconst descargaProductosExitosa = productos => ({\n  type: DESCARGA_PRODUCTOS_EXITO,\n  payload: productos\n});\n\nconst descargaProductosError = () => ({\n  type: DESCARGA_PRODUCTOS_ERROR,\n  payload: true\n}); //selecciona y elimina producto\n\n\nexport function eliminarProductoAction(id) {\n  return async dispatch => {\n    dispatch(obtenerProductoEliminar(id));\n\n    try {\n      await clienteAxios.delete(`/productos/${id}`);\n      dispatch(eliminarProductoExito()); //  alerta\n\n      Swal.fire('Eliminado', 'El producto se eliminó correctamente', 'success');\n    } catch (error) {\n      console.log(error);\n      dispatch(eliminarProductoError());\n    }\n  };\n}\n\nconst obtenerProductoEliminar = id => ({\n  type: OBTENER_PRODUCTO_ELIMINAR,\n  payload: id\n});\n\nconst eliminarProductoExito = () => ({\n  type: PRODUCTO_ELIMINADO_EXITO\n});\n\nconst eliminarProductoError = () => ({\n  type: PRODUCTO_ELIMINADO_ERROR,\n  payload: true\n}); //solo agrega el producto a editar en el state\n\n\nexport function obtenerProductoEditarAction(producto) {\n  return dispatch => {\n    dispatch(obtenerProductoEditar(producto));\n  };\n}\n\nconst obtenerProductoEditar = producto => ({\n  type: OBTENER_PRODUCTO_EDITAR,\n  payload: producto\n}); //editar registro en la api y en state\n\n\nexport function editarProductoAction(producto) {\n  return async dispatch => {\n    dispatch(editarProducto());\n\n    try {\n      await clienteAxios.put(`/productos/${producto.id}`, producto);\n      dispatch(editarProductoExito(producto)); // Alerta\n\n      Swal.fire('Correcto', 'El producto se edito correctamente', 'success');\n    } catch (error) {\n      dispatch(editarProductoError());\n    }\n  };\n}\n\nconst editarProducto = () => ({\n  type: COMENZAR_EDICION_PRODUCTO\n});\n\nconst editarProductoExito = producto => ({\n  type: PRODUCTO_EDITADO_EXITO,\n  payload: producto\n});\n\nconst editarProductoError = () => ({\n  type: PRODUCTO_EDITADO_ERROR,\n  payload: true\n});","map":{"version":3,"sources":["C:/Users/rocio/OneDrive/Escritorio/crudredux/src/actions/productoActions.js"],"names":["AGREGAR_PRODUCTO","AGREGAR_PRODUCTO_EXITO","AGREGAR_PRODUCTO_ERROR","COMENZAR_DESCARGA_PRODUCTOS","DESCARGA_PRODUCTOS_EXITO","DESCARGA_PRODUCTOS_ERROR","OBTENER_PRODUCTO_ELIMINAR","PRODUCTO_ELIMINADO_EXITO","PRODUCTO_ELIMINADO_ERROR","OBTENER_PRODUCTO_EDITAR","COMENZAR_EDICION_PRODUCTO","PRODUCTO_EDITADO_EXITO","PRODUCTO_EDITADO_ERROR","clienteAxios","Swal","EditarProducto","crearNuevoProductoAction","producto","dispatch","agregarProducto","post","agregarProductoExito","fire","error","console","log","agregarProductoError","icon","title","text","type","payload","estado","obtenerProductosAction","descargarProductos","respuesta","get","descargaProductosExitosa","data","sort","a","b","nameA","name","toUpperCase","nameB","descargaProductosError","productos","eliminarProductoAction","id","obtenerProductoEliminar","delete","eliminarProductoExito","eliminarProductoError","obtenerProductoEditarAction","obtenerProductoEditar","editarProductoAction","editarProducto","put","editarProductoExito","editarProductoError"],"mappings":"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","sourcesContent":["//accion que se va a utilizar en los componentes\r\nimport {\r\n    AGREGAR_PRODUCTO,\r\n    AGREGAR_PRODUCTO_EXITO,\r\n    AGREGAR_PRODUCTO_ERROR,\r\n    COMENZAR_DESCARGA_PRODUCTOS,\r\n    DESCARGA_PRODUCTOS_EXITO,\r\n    DESCARGA_PRODUCTOS_ERROR, \r\n    OBTENER_PRODUCTO_ELIMINAR,\r\n    PRODUCTO_ELIMINADO_EXITO,\r\n    PRODUCTO_ELIMINADO_ERROR,\r\n    OBTENER_PRODUCTO_EDITAR,\r\n    COMENZAR_EDICION_PRODUCTO,\r\n    PRODUCTO_EDITADO_EXITO,\r\n    PRODUCTO_EDITADO_ERROR\r\n} from '../types';\r\nimport clienteAxios from '../config/axios';\r\nimport Swal from 'sweetalert2';\r\nimport EditarProducto from '../components/EditarProducto';\r\n\r\n// Crear nuevos productos\r\nexport function crearNuevoProductoAction(producto) {\r\n    return async (dispatch) => {\r\n        dispatch( agregarProducto() );\r\n\r\n        try {\r\n            // insertar en la API\r\n            await clienteAxios.post('/productos', producto);\r\n\r\n            // Si todo sale bien, actualizar el state\r\n           dispatch( agregarProductoExito(producto) );\r\n\r\n            // Alerta\r\n            Swal.fire(\r\n                'Correcto', \r\n                'El producto se agregó correctamente',\r\n                'success'\r\n            );\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            // si hay un error cambiar el state\r\n            dispatch( agregarProductoError(true) );\r\n\r\n            // alerta de error\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Hubo un error',\r\n                text: 'Hubo un error, intenta de nuevo'\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nconst agregarProducto = () => ({\r\n    type: AGREGAR_PRODUCTO,\r\n    payload: true\r\n});\r\n\r\n// si el producto se guarda en la base de datos\r\nconst agregarProductoExito = producto => ({\r\n    type: AGREGAR_PRODUCTO_EXITO,\r\n    payload: producto\r\n})\r\n\r\n// si hubo un error\r\nconst agregarProductoError = estado => ({\r\n    type: AGREGAR_PRODUCTO_ERROR,\r\n    payload: estado\r\n});\r\n\r\n\r\n// Función que descarga los productos de la base de datos\r\nexport function obtenerProductosAction() {\r\n    return async (dispatch) => {\r\n        dispatch( descargarProductos() );\r\n\r\n        try {\r\n           \r\n            const respuesta = await clienteAxios.get('/productos');\r\n            dispatch( descargaProductosExitosa(respuesta.data.sort(function(a, b) {\r\n                var nameA = a.name.toUpperCase(); // ignore upper and lowercase\r\n                var nameB = b.name.toUpperCase(); // ignore upper and lowercase\r\n                if (nameA < nameB) {\r\n                  return -1;\r\n                }\r\n                if (nameA > nameB) {\r\n                  return 1;\r\n                }\r\n              \r\n                // names must be equal\r\n                return 0;\r\n              })\r\n              ));\r\n          \r\n        } catch (error) {\r\n            console.log(error);\r\n            dispatch( descargaProductosError() )\r\n        }\r\n    }\r\n}\r\n\r\nconst descargarProductos = () => ({\r\n    type: COMENZAR_DESCARGA_PRODUCTOS,\r\n    payload: true\r\n});\r\n\r\nconst descargaProductosExitosa = productos => ({\r\n    type: DESCARGA_PRODUCTOS_EXITO,\r\n    payload: productos\r\n})\r\nconst descargaProductosError = () => ({\r\n    type: DESCARGA_PRODUCTOS_ERROR, \r\n    payload: true\r\n});\r\n\r\n//selecciona y elimina producto\r\n\r\nexport function eliminarProductoAction(id) {\r\n    return async (dispatch) => {\r\n        dispatch(obtenerProductoEliminar(id) );\r\n\r\n        try {\r\n            await clienteAxios.delete(`/productos/${id}`);\r\n            dispatch( eliminarProductoExito() );\r\n\r\n            //  alerta\r\n            Swal.fire(\r\n                'Eliminado',\r\n                'El producto se eliminó correctamente',\r\n                'success'\r\n            )\r\n        } catch (error) {\r\n            console.log(error);\r\n            dispatch( eliminarProductoError() );\r\n        }\r\n    }\r\n}\r\n\r\nconst obtenerProductoEliminar = id => ({\r\n    type: OBTENER_PRODUCTO_ELIMINAR,\r\n    payload: id\r\n});\r\nconst eliminarProductoExito = () => ({\r\n    type: PRODUCTO_ELIMINADO_EXITO\r\n})\r\nconst eliminarProductoError = () => ({\r\n    type: PRODUCTO_ELIMINADO_ERROR,\r\n    payload: true\r\n});\r\n\r\n//solo agrega el producto a editar en el state\r\nexport function obtenerProductoEditarAction(producto){\r\n  return(dispatch)=>{\r\n      dispatch(obtenerProductoEditar(producto));\r\n  }\r\n}\r\nconst obtenerProductoEditar=(producto)=>({\r\n    type: OBTENER_PRODUCTO_EDITAR,\r\n    payload: producto\r\n})\r\n\r\n//editar registro en la api y en state\r\n\r\nexport function editarProductoAction(producto) {\r\n    return async(dispatch)=>{\r\n        dispatch(editarProducto());\r\n\r\n        try {\r\n            await clienteAxios.put(`/productos/${producto.id}`,producto);\r\n            dispatch(editarProductoExito(producto));\r\n             // Alerta\r\n             Swal.fire(\r\n                'Correcto', \r\n                'El producto se edito correctamente',\r\n                'success'\r\n            );\r\n        } catch (error) {\r\n            dispatch(editarProductoError());\r\n        }\r\n    }\r\n}\r\n\r\nconst editarProducto=()=>({\r\n    type:COMENZAR_EDICION_PRODUCTO\r\n})\r\n\r\n\r\nconst editarProductoExito=(producto)=>({\r\n    type:PRODUCTO_EDITADO_EXITO,\r\n    payload: producto\r\n})\r\n\r\n\r\nconst editarProductoError=()=>({\r\n    type:PRODUCTO_EDITADO_ERROR,\r\n    payload: true\r\n})"]},"metadata":{},"sourceType":"module"}